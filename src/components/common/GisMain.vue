<template>
  <div style="width: 100%; height: 100%;">
    <div id="map" style="width: 100%; height: 100%;"></div>

  </div>

</template>

<script lang="ts">
import { Component, Prop, Vue } from "vue-property-decorator";
import {
  gisServer,
  disasterServer,
  szFireModelServe,
} from "@/api/installServer";
import OlUtils from "@/util/gis/olUtils";
import popMbk from "@/components/popup/PopMbk.vue";
import { transform } from "ol/proj";
import { GML } from "ol/format";

@Component({ name: "GisMain.vue" })
export default class Loclation extends Vue {
  @Prop() private isEdit: any; //是否编辑
  private olUtils: any;
  private mapConfig: any;
  private map: any;
  private tyhoonUtils: any;
  private Coords: any;
  private time1: any;
  private lastPoint: any = [];
  private mins: any = [];
  private trafficData: any = [];
  private modelAnalysisDatas: any = [];
  private timer: any;
  private earthQuakeParms: any = {
    longitude: 113.64456222627953,
    latitude: 22.40927072719858,
    magnitude: 6,
    angle: 30,
    depth: 12,
  };
  private analysisParam: any = {
    windSpeed:10,
    windDirection: 180,
    temperature: 23.8,
    humidity: 21.5,
    lat: /* 22.92369516500743,//latitude: */22.58792336788,//22.590215436525074,
    lon: /* 112.9778754798227,// longitude: */113.97272030431718,//113.97241969840054 ,
    beginTime: "2019-12-05 00:00:00",
    timeInterval: 60,
    timeIntervalUnit: "minute",
    timeLen: 3,
    timeLengthUnit: "hour",
    /* windParam: JSON.stringify([
      {
        startTime: "2020-10-23 09:00:00",
        endTime: "2020-10-23 11:00:00",
        windDrection: "东北",
        windSpeedNum: 1.4,
        width: 8.333333333333332,
        positionLeft: 20437.5,
        windLast: 7200,
        
      },
    ]), */
  };
  private sample: any = {
    startTime: "2017-08-27 00:00",
    endTime: "2017-08-28 00:05",
    modelcall: [
      {
        id: "FXRR0065(硅谷公寓)",
        x: 113.962,
        y: 22.593,
        JLRS: {
          a: 0.04,
          b: 0.18,
          n: 1,
          kfg: 0.2,
          IT: 2.5,
          Fc: 3,
          F0: 20,
          Khd: 0.0738,
          Area: 0.064922,
          La: 130,
          na: 0.025,
          Ja: 0.02,
          Ll: 275,
          nl: 0.014,
          Jl: 0.02,
          D: 800,
          m: 2,
          P: [
            0,
            0.1,
            0,
            0.1,
            0.2,
            0.2,
            0.2,
            0.1,
            0,
            1.8,
            0.2,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.5,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0.3,
            0,
            0.1,
            0.4,
            0,
            0.3,
            0.8,
            0.5,
            1.1,
            0.6,
            0.3,
            0.2,
            0.4,
            0.1,
            0.2,
            0.2,
            0.3,
            0.1,
            0.1,
            0.2,
            0.2,
            0.5,
            0.3,
            0.3,
            0.4,
            0.5,
            0.6,
            0.5,
            0.6,
            0.7,
            0.8,
            0.7,
            0.8,
            1.4,
            2.9,
            2.4,
            2.7,
            2,
            3.1,
            5.3,
            4.2,
            2.8,
            0.9,
            2.8,
            4.3,
            3.3,
            1.7,
            1.8,
            0.5,
            0.5,
            0.3,
            0.5,
            0.3,
            0.3,
            0.7,
            1.1,
            1.6,
            0.6,
            0.8,
            0.5,
            1.7,
            1,
            0.3,
            0.4,
            0.2,
            0,
            0.2,
            0.4,
            0.3,
            0,
            0.1,
            0.3,
            0.1,
            0.3,
            1,
            2.1,
            0.9,
            1.5,
            0.1,
            0,
            0.2,
            0.8,
            0.2,
            0.8,
            0.6,
            0.8,
            0.1,
            0.5,
            0.2,
            0.3,
            0.5,
            0.4,
            0.5,
            0.1,
            0,
            0.1,
            0.7,
            0.9,
            1,
            0.6,
            0.4,
            0.1,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0.1,
            0.1,
            0.2,
            0.4,
            0.7,
            0.6,
            0.4,
            0.4,
            0.4,
            0.6,
            0.5,
            1,
            0.3,
            1.1,
            2,
            1.7,
            0.8,
            0.4,
            1.1,
            0.6,
            0.1,
            0.1,
            0.1,
            0.3,
            0.1,
            0.1,
            0.3,
            0.2,
            0.3,
            0.3,
            0.1,
            0.2,
            0.1,
            0.1,
            0.1,
            0.3,
            0.4,
            0.2,
            0.1,
            0,
            0.2,
            0.4,
            0.4,
            0,
            0.2,
            0,
            0,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0.3,
            0.1,
            0.1,
            0.1,
            0.1,
            0.3,
            0.1,
            0.1,
            0.2,
            0.2,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0.2,
            0,
            0.2,
            0.1,
            0.1,
            0,
            0.1,
            0.2,
            0.3,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0.1,
            0.1,
            0.6,
            2.2,
            3.9,
            4.5,
            0.5,
            1.4,
            0.1,
            0.1,
            0,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          E: [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          R: [],
          QJ: [],
          Q: [],
        },
        NLAlt: {
          Area: 0.064922,
          Lalt: [0, 150, 250, 350, 400],
          QJ: [],
          AltJS: [],
        },
      },
      {
        id: "FXRR0065(北大1)",
        x: 113.975,
        y: 22.593,
        JLRS: {
          a: 0.04,
          b: 0.18,
          n: 1,
          kfg: 0.2,
          IT: 2.5,
          Fc: 3,
          F0: 20,
          Khd: 0.0738,
          Area: 0.1376,
          La: 130,
          na: 0.025,
          Ja: 0.02,
          Ll: 275,
          nl: 0.014,
          Jl: 0.02,
          D: 800,
          m: 2,
          P: [
            0,
            0.1,
            0,
            0.1,
            0.2,
            0.2,
            0.2,
            0.1,
            0,
            1.8,
            0.2,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.5,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0.3,
            0,
            0.1,
            0.4,
            0,
            0.3,
            0.8,
            0.5,
            1.1,
            0.6,
            0.3,
            0.2,
            0.4,
            0.1,
            0.2,
            0.2,
            0.3,
            0.1,
            0.1,
            0.2,
            0.2,
            0.5,
            0.3,
            0.3,
            0.4,
            0.5,
            0.6,
            0.5,
            0.6,
            0.7,
            0.8,
            0.7,
            0.8,
            1.4,
            2.9,
            2.4,
            2.7,
            2,
            3.1,
            5.3,
            4.2,
            2.8,
            0.9,
            2.8,
            4.3,
            3.3,
            1.7,
            1.8,
            0.5,
            0.5,
            0.3,
            0.5,
            0.3,
            0.3,
            0.7,
            1.1,
            1.6,
            0.6,
            0.8,
            0.5,
            1.7,
            1,
            0.3,
            0.4,
            0.2,
            0,
            0.2,
            0.4,
            0.3,
            0,
            0.1,
            0.3,
            0.1,
            0.3,
            1,
            2.1,
            0.9,
            1.5,
            0.1,
            0,
            0.2,
            0.8,
            0.2,
            0.8,
            0.6,
            0.8,
            0.1,
            0.5,
            0.2,
            0.3,
            0.5,
            0.4,
            0.5,
            0.1,
            0,
            0.1,
            0.7,
            0.9,
            1,
            0.6,
            0.4,
            0.1,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0.1,
            0.1,
            0.2,
            0.4,
            0.7,
            0.6,
            0.4,
            0.4,
            0.4,
            0.6,
            0.5,
            1,
            0.3,
            1.1,
            2,
            1.7,
            0.8,
            0.4,
            1.1,
            0.6,
            0.1,
            0.1,
            0.1,
            0.3,
            0.1,
            0.1,
            0.3,
            0.2,
            0.3,
            0.3,
            0.1,
            0.2,
            0.1,
            0.1,
            0.1,
            0.3,
            0.4,
            0.2,
            0.1,
            0,
            0.2,
            0.4,
            0.4,
            0,
            0.2,
            0,
            0,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0.3,
            0.1,
            0.1,
            0.1,
            0.1,
            0.3,
            0.1,
            0.1,
            0.2,
            0.2,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0.2,
            0,
            0.2,
            0.1,
            0.1,
            0,
            0.1,
            0.2,
            0.3,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0.1,
            0.1,
            0.6,
            2.2,
            3.9,
            4.5,
            0.5,
            1.4,
            0.1,
            0.1,
            0,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          E: [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          R: [],
          QJ: [],
          Q: [],
        },
        NLAlt: {
          Area: 0.1376,
          Lalt: [0, 150, 250, 350, 400],
          QJ: [],
          AltJS: [],
        },
      },
      {
        id: "FXRR0065(北大2)",
        x: 113.97,
        y: 22.594,
        JLRS: {
          a: 0.04,
          b: 0.18,
          n: 1,
          kfg: 0.2,
          IT: 2.5,
          Fc: 3,
          F0: 20,
          Khd: 0.0738,
          Area: 0.1257,
          La: 130,
          na: 0.025,
          Ja: 0.02,
          Ll: 275,
          nl: 0.014,
          Jl: 0.02,
          D: 800,
          m: 2,
          P: [
            0,
            0.1,
            0,
            0.1,
            0.2,
            0.2,
            0.2,
            0.1,
            0,
            1.8,
            0.2,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.5,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0.3,
            0,
            0.1,
            0.4,
            0,
            0.3,
            0.8,
            0.5,
            1.1,
            0.6,
            0.3,
            0.2,
            0.4,
            0.1,
            0.2,
            0.2,
            0.3,
            0.1,
            0.1,
            0.2,
            0.2,
            0.5,
            0.3,
            0.3,
            0.4,
            0.5,
            0.6,
            0.5,
            0.6,
            0.7,
            0.8,
            0.7,
            0.8,
            1.4,
            2.9,
            2.4,
            2.7,
            2,
            3.1,
            5.3,
            4.2,
            2.8,
            0.9,
            2.8,
            4.3,
            3.3,
            1.7,
            1.8,
            0.5,
            0.5,
            0.3,
            0.5,
            0.3,
            0.3,
            0.7,
            1.1,
            1.6,
            0.6,
            0.8,
            0.5,
            1.7,
            1,
            0.3,
            0.4,
            0.2,
            0,
            0.2,
            0.4,
            0.3,
            0,
            0.1,
            0.3,
            0.1,
            0.3,
            1,
            2.1,
            0.9,
            1.5,
            0.1,
            0,
            0.2,
            0.8,
            0.2,
            0.8,
            0.6,
            0.8,
            0.1,
            0.5,
            0.2,
            0.3,
            0.5,
            0.4,
            0.5,
            0.1,
            0,
            0.1,
            0.7,
            0.9,
            1,
            0.6,
            0.4,
            0.1,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0.1,
            0.1,
            0.2,
            0.4,
            0.7,
            0.6,
            0.4,
            0.4,
            0.4,
            0.6,
            0.5,
            1,
            0.3,
            1.1,
            2,
            1.7,
            0.8,
            0.4,
            1.1,
            0.6,
            0.1,
            0.1,
            0.1,
            0.3,
            0.1,
            0.1,
            0.3,
            0.2,
            0.3,
            0.3,
            0.1,
            0.2,
            0.1,
            0.1,
            0.1,
            0.3,
            0.4,
            0.2,
            0.1,
            0,
            0.2,
            0.4,
            0.4,
            0,
            0.2,
            0,
            0,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0.3,
            0.1,
            0.1,
            0.1,
            0.1,
            0.3,
            0.1,
            0.1,
            0.2,
            0.2,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0.2,
            0,
            0.2,
            0.1,
            0.1,
            0,
            0.1,
            0.2,
            0.3,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0.1,
            0.1,
            0.6,
            2.2,
            3.9,
            4.5,
            0.5,
            1.4,
            0.1,
            0.1,
            0,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          E: [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          R: [],
          QJ: [],
          Q: [],
        },
        NLAlt: {
          Area: 0.1257,
          Lalt: [0, 150, 250, 350, 400],
          QJ: [],
          AltJS: [],
        },
      },
      {
        id: "FXRR0065(清华大学)",
        x: 113.963,
        y: 22.593,
        JLRS: {
          a: 0.04,
          b: 0.18,
          n: 1,
          kfg: 0.2,
          IT: 2.5,
          Fc: 3,
          F0: 20,
          Khd: 0.0738,
          Area: 0.2961,
          La: 130,
          na: 0.025,
          Ja: 0.02,
          Ll: 275,
          nl: 0.014,
          Jl: 0.02,
          D: 800,
          m: 2,
          P: [
            0,
            0.1,
            0,
            0.1,
            0.2,
            0.2,
            0.2,
            0.1,
            0,
            1.8,
            0.2,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.5,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0.3,
            0,
            0.1,
            0.4,
            0,
            0.3,
            0.8,
            0.5,
            1.1,
            0.6,
            0.3,
            0.2,
            0.4,
            0.1,
            0.2,
            0.2,
            0.3,
            0.1,
            0.1,
            0.2,
            0.2,
            0.5,
            0.3,
            0.3,
            0.4,
            0.5,
            0.6,
            0.5,
            0.6,
            0.7,
            0.8,
            0.7,
            0.8,
            1.4,
            2.9,
            2.4,
            2.7,
            2,
            3.1,
            5.3,
            4.2,
            2.8,
            0.9,
            2.8,
            4.3,
            3.3,
            1.7,
            1.8,
            0.5,
            0.5,
            0.3,
            0.5,
            0.3,
            0.3,
            0.7,
            1.1,
            1.6,
            0.6,
            0.8,
            0.5,
            1.7,
            1,
            0.3,
            0.4,
            0.2,
            0,
            0.2,
            0.4,
            0.3,
            0,
            0.1,
            0.3,
            0.1,
            0.3,
            1,
            2.1,
            0.9,
            1.5,
            0.1,
            0,
            0.2,
            0.8,
            0.2,
            0.8,
            0.6,
            0.8,
            0.1,
            0.5,
            0.2,
            0.3,
            0.5,
            0.4,
            0.5,
            0.1,
            0,
            0.1,
            0.7,
            0.9,
            1,
            0.6,
            0.4,
            0.1,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0.1,
            0.1,
            0.2,
            0.4,
            0.7,
            0.6,
            0.4,
            0.4,
            0.4,
            0.6,
            0.5,
            1,
            0.3,
            1.1,
            2,
            1.7,
            0.8,
            0.4,
            1.1,
            0.6,
            0.1,
            0.1,
            0.1,
            0.3,
            0.1,
            0.1,
            0.3,
            0.2,
            0.3,
            0.3,
            0.1,
            0.2,
            0.1,
            0.1,
            0.1,
            0.3,
            0.4,
            0.2,
            0.1,
            0,
            0.2,
            0.4,
            0.4,
            0,
            0.2,
            0,
            0,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0.3,
            0.1,
            0.1,
            0.1,
            0.1,
            0.3,
            0.1,
            0.1,
            0.2,
            0.2,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0.2,
            0,
            0.2,
            0.1,
            0.1,
            0,
            0.1,
            0.2,
            0.3,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0.1,
            0.1,
            0.6,
            2.2,
            3.9,
            4.5,
            0.5,
            1.4,
            0.1,
            0.1,
            0,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          E: [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          R: [],
          QJ: [],
          Q: [],
        },
        NLAlt: {
          Area: 0.2961,
          Lalt: [0, 150, 250, 350, 400],
          QJ: [],
          AltJS: [],
        },
      },
      {
        id: "FXRR0065(体育中心)",
        x: 113.977,
        y: 22.593,
        JLRS: {
          a: 0.04,
          b: 0.18,
          n: 1,
          kfg: 0.2,
          IT: 2.5,
          Fc: 3,
          F0: 20,
          Khd: 0.0738,
          Area: 0.2652,
          La: 130,
          na: 0.025,
          Ja: 0.02,
          Ll: 275,
          nl: 0.014,
          Jl: 0.02,
          D: 800,
          m: 2,
          P: [
            0,
            0.1,
            0,
            0.1,
            0.2,
            0.2,
            0.2,
            0.1,
            0,
            1.8,
            0.2,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.5,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0.3,
            0,
            0.1,
            0.4,
            0,
            0.3,
            0.8,
            0.5,
            1.1,
            0.6,
            0.3,
            0.2,
            0.4,
            0.1,
            0.2,
            0.2,
            0.3,
            0.1,
            0.1,
            0.2,
            0.2,
            0.5,
            0.3,
            0.3,
            0.4,
            0.5,
            0.6,
            0.5,
            0.6,
            0.7,
            0.8,
            0.7,
            0.8,
            1.4,
            2.9,
            2.4,
            2.7,
            2,
            3.1,
            5.3,
            4.2,
            2.8,
            0.9,
            2.8,
            4.3,
            3.3,
            1.7,
            1.8,
            0.5,
            0.5,
            0.3,
            0.5,
            0.3,
            0.3,
            0.7,
            1.1,
            1.6,
            0.6,
            0.8,
            0.5,
            1.7,
            1,
            0.3,
            0.4,
            0.2,
            0,
            0.2,
            0.4,
            0.3,
            0,
            0.1,
            0.3,
            0.1,
            0.3,
            1,
            2.1,
            0.9,
            1.5,
            0.1,
            0,
            0.2,
            0.8,
            0.2,
            0.8,
            0.6,
            0.8,
            0.1,
            0.5,
            0.2,
            0.3,
            0.5,
            0.4,
            0.5,
            0.1,
            0,
            0.1,
            0.7,
            0.9,
            1,
            0.6,
            0.4,
            0.1,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0.1,
            0.1,
            0.2,
            0.4,
            0.7,
            0.6,
            0.4,
            0.4,
            0.4,
            0.6,
            0.5,
            1,
            0.3,
            1.1,
            2,
            1.7,
            0.8,
            0.4,
            1.1,
            0.6,
            0.1,
            0.1,
            0.1,
            0.3,
            0.1,
            0.1,
            0.3,
            0.2,
            0.3,
            0.3,
            0.1,
            0.2,
            0.1,
            0.1,
            0.1,
            0.3,
            0.4,
            0.2,
            0.1,
            0,
            0.2,
            0.4,
            0.4,
            0,
            0.2,
            0,
            0,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0.3,
            0.1,
            0.1,
            0.1,
            0.1,
            0.3,
            0.1,
            0.1,
            0.2,
            0.2,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0.2,
            0,
            0.2,
            0.1,
            0.1,
            0,
            0.1,
            0.2,
            0.3,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0.1,
            0.1,
            0.6,
            2.2,
            3.9,
            4.5,
            0.5,
            1.4,
            0.1,
            0.1,
            0,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          E: [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          R: [],
          QJ: [],
          Q: [],
        },
        NLAlt: {
          Area: 0.2652,
          Lalt: [0, 150, 250, 350, 400],
          QJ: [],
          AltJS: [],
        },
      },
      {
        id: "FXRR0065(生态公园)",
        x: 113.97,
        y: 22.594,
        JLRS: {
          a: 0.04,
          b: 0.18,
          n: 1,
          kfg: 0.2,
          IT: 2.5,
          Fc: 3,
          F0: 20,
          Khd: 0.0738,
          Area: 0.3096,
          La: 130,
          na: 0.025,
          Ja: 0.02,
          Ll: 275,
          nl: 0.014,
          Jl: 0.02,
          D: 800,
          m: 2,
          P: [
            0,
            0.1,
            0,
            0.1,
            0.2,
            0.2,
            0.2,
            0.1,
            0,
            1.8,
            0.2,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.5,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0.3,
            0,
            0.1,
            0.4,
            0,
            0.3,
            0.8,
            0.5,
            1.1,
            0.6,
            0.3,
            0.2,
            0.4,
            0.1,
            0.2,
            0.2,
            0.3,
            0.1,
            0.1,
            0.2,
            0.2,
            0.5,
            0.3,
            0.3,
            0.4,
            0.5,
            0.6,
            0.5,
            0.6,
            0.7,
            0.8,
            0.7,
            0.8,
            1.4,
            2.9,
            2.4,
            2.7,
            2,
            3.1,
            5.3,
            4.2,
            2.8,
            0.9,
            2.8,
            4.3,
            3.3,
            1.7,
            1.8,
            0.5,
            0.5,
            0.3,
            0.5,
            0.3,
            0.3,
            0.7,
            1.1,
            1.6,
            0.6,
            0.8,
            0.5,
            1.7,
            1,
            0.3,
            0.4,
            0.2,
            0,
            0.2,
            0.4,
            0.3,
            0,
            0.1,
            0.3,
            0.1,
            0.3,
            1,
            2.1,
            0.9,
            1.5,
            0.1,
            0,
            0.2,
            0.8,
            0.2,
            0.8,
            0.6,
            0.8,
            0.1,
            0.5,
            0.2,
            0.3,
            0.5,
            0.4,
            0.5,
            0.1,
            0,
            0.1,
            0.7,
            0.9,
            1,
            0.6,
            0.4,
            0.1,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0.1,
            0.1,
            0.2,
            0.4,
            0.7,
            0.6,
            0.4,
            0.4,
            0.4,
            0.6,
            0.5,
            1,
            0.3,
            1.1,
            2,
            1.7,
            0.8,
            0.4,
            1.1,
            0.6,
            0.1,
            0.1,
            0.1,
            0.3,
            0.1,
            0.1,
            0.3,
            0.2,
            0.3,
            0.3,
            0.1,
            0.2,
            0.1,
            0.1,
            0.1,
            0.3,
            0.4,
            0.2,
            0.1,
            0,
            0.2,
            0.4,
            0.4,
            0,
            0.2,
            0,
            0,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0.3,
            0.1,
            0.1,
            0.1,
            0.1,
            0.3,
            0.1,
            0.1,
            0.2,
            0.2,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0.2,
            0,
            0.2,
            0.1,
            0.1,
            0,
            0.1,
            0.2,
            0.3,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0.1,
            0.1,
            0.6,
            2.2,
            3.9,
            4.5,
            0.5,
            1.4,
            0.1,
            0.1,
            0,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          E: [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          R: [],
          QJ: [],
          Q: [],
        },
        NLAlt: {
          Area: 0.3096,
          Lalt: [0, 150, 250, 350, 400],
          QJ: [],
          AltJS: [],
        },
      },
      {
        id: "FXRR0065(哈工大)",
        x: 113.966,
        y: 22.593,
        JLRS: {
          a: 0.04,
          b: 0.18,
          n: 1,
          kfg: 0.2,
          IT: 2.5,
          Fc: 3,
          F0: 20,
          Khd: 0.0738,
          Area: 0.3073,
          La: 130,
          na: 0.025,
          Ja: 0.02,
          Ll: 275,
          nl: 0.014,
          Jl: 0.02,
          D: 800,
          m: 2,
          P: [
            0,
            0.1,
            0,
            0.1,
            0.2,
            0.2,
            0.2,
            0.1,
            0,
            1.8,
            0.2,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.5,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0.3,
            0,
            0.1,
            0.4,
            0,
            0.3,
            0.8,
            0.5,
            1.1,
            0.6,
            0.3,
            0.2,
            0.4,
            0.1,
            0.2,
            0.2,
            0.3,
            0.1,
            0.1,
            0.2,
            0.2,
            0.5,
            0.3,
            0.3,
            0.4,
            0.5,
            0.6,
            0.5,
            0.6,
            0.7,
            0.8,
            0.7,
            0.8,
            1.4,
            2.9,
            2.4,
            2.7,
            2,
            3.1,
            5.3,
            4.2,
            2.8,
            0.9,
            2.8,
            4.3,
            3.3,
            1.7,
            1.8,
            0.5,
            0.5,
            0.3,
            0.5,
            0.3,
            0.3,
            0.7,
            1.1,
            1.6,
            0.6,
            0.8,
            0.5,
            1.7,
            1,
            0.3,
            0.4,
            0.2,
            0,
            0.2,
            0.4,
            0.3,
            0,
            0.1,
            0.3,
            0.1,
            0.3,
            1,
            2.1,
            0.9,
            1.5,
            0.1,
            0,
            0.2,
            0.8,
            0.2,
            0.8,
            0.6,
            0.8,
            0.1,
            0.5,
            0.2,
            0.3,
            0.5,
            0.4,
            0.5,
            0.1,
            0,
            0.1,
            0.7,
            0.9,
            1,
            0.6,
            0.4,
            0.1,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0.1,
            0.1,
            0.2,
            0.4,
            0.7,
            0.6,
            0.4,
            0.4,
            0.4,
            0.6,
            0.5,
            1,
            0.3,
            1.1,
            2,
            1.7,
            0.8,
            0.4,
            1.1,
            0.6,
            0.1,
            0.1,
            0.1,
            0.3,
            0.1,
            0.1,
            0.3,
            0.2,
            0.3,
            0.3,
            0.1,
            0.2,
            0.1,
            0.1,
            0.1,
            0.3,
            0.4,
            0.2,
            0.1,
            0,
            0.2,
            0.4,
            0.4,
            0,
            0.2,
            0,
            0,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0.3,
            0.1,
            0.1,
            0.1,
            0.1,
            0.3,
            0.1,
            0.1,
            0.2,
            0.2,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0.2,
            0,
            0.2,
            0.1,
            0.1,
            0,
            0.1,
            0.2,
            0.3,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0.1,
            0.1,
            0.6,
            2.2,
            3.9,
            4.5,
            0.5,
            1.4,
            0.1,
            0.1,
            0,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          E: [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          R: [],
          QJ: [],
          Q: [],
        },
        NLAlt: {
          Area: 0.3073,
          Lalt: [0, 150, 250, 350, 400],
          QJ: [],
          AltJS: [],
        },
      },
      {
        id: "FXRR0065(丹华府)",
        x: 113.959,
        y: 22.593,
        JLRS: {
          a: 0.04,
          b: 0.18,
          n: 1,
          kfg: 0.2,
          IT: 2.5,
          Fc: 3,
          F0: 20,
          Khd: 0.0738,
          Area: 0.3073,
          La: 130,
          na: 0.025,
          Ja: 0.02,
          Ll: 275,
          nl: 0.014,
          Jl: 0.02,
          D: 800,
          m: 2,
          P: [
            0,
            0.1,
            0,
            0.1,
            0.2,
            0.2,
            0.2,
            0.1,
            0,
            1.8,
            0.2,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.5,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0.3,
            0,
            0.1,
            0.4,
            0,
            0.3,
            0.8,
            0.5,
            1.1,
            0.6,
            0.3,
            0.2,
            0.4,
            0.1,
            0.2,
            0.2,
            0.3,
            0.1,
            0.1,
            0.2,
            0.2,
            0.5,
            0.3,
            0.3,
            0.4,
            0.5,
            0.6,
            0.5,
            0.6,
            0.7,
            0.8,
            0.7,
            0.8,
            1.4,
            2.9,
            2.4,
            2.7,
            2,
            3.1,
            5.3,
            4.2,
            2.8,
            0.9,
            2.8,
            4.3,
            3.3,
            1.7,
            1.8,
            0.5,
            0.5,
            0.3,
            0.5,
            0.3,
            0.3,
            0.7,
            1.1,
            1.6,
            0.6,
            0.8,
            0.5,
            1.7,
            1,
            0.3,
            0.4,
            0.2,
            0,
            0.2,
            0.4,
            0.3,
            0,
            0.1,
            0.3,
            0.1,
            0.3,
            1,
            2.1,
            0.9,
            1.5,
            0.1,
            0,
            0.2,
            0.8,
            0.2,
            0.8,
            0.6,
            0.8,
            0.1,
            0.5,
            0.2,
            0.3,
            0.5,
            0.4,
            0.5,
            0.1,
            0,
            0.1,
            0.7,
            0.9,
            1,
            0.6,
            0.4,
            0.1,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0.1,
            0.1,
            0.2,
            0.4,
            0.7,
            0.6,
            0.4,
            0.4,
            0.4,
            0.6,
            0.5,
            1,
            0.3,
            1.1,
            2,
            1.7,
            0.8,
            0.4,
            1.1,
            0.6,
            0.1,
            0.1,
            0.1,
            0.3,
            0.1,
            0.1,
            0.3,
            0.2,
            0.3,
            0.3,
            0.1,
            0.2,
            0.1,
            0.1,
            0.1,
            0.3,
            0.4,
            0.2,
            0.1,
            0,
            0.2,
            0.4,
            0.4,
            0,
            0.2,
            0,
            0,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0.3,
            0.1,
            0.1,
            0.1,
            0.1,
            0.3,
            0.1,
            0.1,
            0.2,
            0.2,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0.2,
            0,
            0.2,
            0.1,
            0.1,
            0,
            0.1,
            0.2,
            0.3,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0.1,
            0.1,
            0.1,
            0.6,
            2.2,
            3.9,
            4.5,
            0.5,
            1.4,
            0.1,
            0.1,
            0,
            0,
            0,
            0.1,
            0,
            0.1,
            0,
            0.1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          E: [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          R: [],
          QJ: [],
          Q: [],
        },
        NLAlt: {
          Area: 0.3073,
          Lalt: [0, 150, 250, 350, 400],
          QJ: [],
          AltJS: [],
        },
      },
      {
        id: "HD0101(大沙河)",
        x: 113.959,
        y: 22.593,
        Qdm: [
          0,
          0,
          0,
          0,
          0,
          0.97,
          1.07,
          1.16,
          1.26,
          1.35,
          1.45,
          1.55,
          1.64,
          1.74,
          1.83,
          1.93,
          2.02,
          2.12,
          2.45,
          2.77,
          3.1,
          3.42,
          3.75,
          4.07,
          4.4,
          4.72,
          5.05,
          5.37,
          5.7,
          6.02,
          6.13,
          6.24,
          6.36,
          6.47,
          6.58,
          6.69,
          6.8,
          6.91,
          7.03,
          7.14,
          7.25,
          4.68,
          4.6,
          4.52,
          4.43,
          4.35,
          4.27,
          4.19,
          4.1,
          4.02,
          3.94,
          3.86,
          3.77,
          3.69,
          4.16,
          4.54,
          4.93,
          5.32,
          5.7,
          6.09,
          6.47,
          6.86,
          7.24,
          7.63,
          8.01,
          8.4,
          8.17,
          7.94,
          7.71,
          7.48,
          7.25,
          7.02,
          6.79,
          6.56,
          6.33,
          6.1,
          5.87,
          5.64,
          5.55,
          5.46,
          5.37,
          5.28,
          5.19,
          5.11,
          5.02,
          4.93,
          4.84,
          4.75,
          4.66,
          4.57,
          4.45,
          4.32,
          4.2,
          4.08,
          3.95,
          3.83,
          3.71,
          3.58,
          3.46,
          3.34,
          3.21,
          3.09,
          3.01,
          2.94,
          2.86,
          2.78,
          2.7,
          2.63,
          2.55,
          2.47,
          2.39,
          2.32,
          2.24,
          2.16,
          2.24,
          2.33,
          2.41,
          2.49,
          2.58,
          2.66,
          2.74,
          2.83,
          2.91,
          2.99,
          3.08,
          3.16,
          5.05,
          6.95,
          8.84,
          10.73,
          12.62,
          14.52,
          16.41,
          18.3,
          20.19,
          22.09,
          23.98,
          25.87,
          28.54,
          31.22,
          33.89,
          36.56,
          39.23,
          41.91,
          44.58,
          47.25,
          49.92,
          52.6,
          55.27,
          57.94,
          57.41,
          56.88,
          56.34,
          55.81,
          55.28,
          54.75,
          54.21,
          53.68,
          53.15,
          52.62,
          52.08,
          51.55,
          50.37,
          49.2,
          48.02,
          46.85,
          45.67,
          44.5,
          43.32,
          42.14,
          40.97,
          39.79,
          38.62,
          37.44,
          36.56,
          35.67,
          34.79,
          33.9,
          33.02,
          32.14,
          31.25,
          30.37,
          29.48,
          28.6,
          27.71,
          26.83,
          25.97,
          25.12,
          24.26,
          23.4,
          22.55,
          21.69,
          20.83,
          19.98,
          19.12,
          18.26,
          17.41,
          16.55,
          16.27,
          15.99,
          15.72,
          15.44,
          15.16,
          14.88,
          14.6,
          14.32,
          14.05,
          13.77,
          13.49,
          13.21,
          13.72,
          14.22,
          14.73,
          15.24,
          15.74,
          16.25,
          16.76,
          17.26,
          17.77,
          18.28,
          18.78,
          19.29,
          19.18,
          19.07,
          18.96,
          18.85,
          18.74,
          18.63,
          18.51,
          18.4,
          18.29,
          18.18,
          18.07,
          17.96,
          17.79,
          17.61,
          17.44,
          17.26,
          17.09,
          16.92,
          16.74,
          16.57,
          16.39,
          16.22,
          16.04,
          15.87,
          16.21,
          16.55,
          16.88,
          17.22,
          17.56,
          17.9,
          18.23,
          18.57,
          18.91,
          19.25,
          19.58,
          19.92,
          19.83,
          19.75,
          19.66,
          19.57,
          19.48,
          19.4,
          19.31,
          19.22,
          19.13,
          19.05,
          18.96,
          18.87,
          18.56,
          18.25,
          17.94,
          17.63,
          17.32,
          17.02,
          16.71,
          16.4,
          16.09,
          15.78,
          15.47,
          15.16,
          14.89,
          14.61,
          14.34,
          14.06,
          13.79,
          13.52,
          13.24,
        ],
        msk: {
          nr: 2,
          Xm: 0.1,
          NT: 288,
          dt: 5,
          QO: [],
          QC: [],
          IERR: 0,
        },
        QtoL: {
          DMTP: 3,
          DMPara: [0, 17, 2, 55, 5, 0.02, 0.025],
          QO: [],
          nt: 288,
          L: [],
        },
      },
    ],
  };
  private huapoParam: any = {
    model: "Risk_assessment", //
    level: 5,
    rainfall: 40,
    startTime: "",
  };
  private trafficParam: any = {
    IncidentID: "D858E34DB3034f3484238EFFBF9BEA11", // 场景ID
    sceneName: "Tsinghua",
    Direction: 1,
    Occupation: 1,
    Rain:5,
    Fog: 1,
  };

  private mounted() {
    gisServer.getMapConfig().then((res: any) => {
      this.mapConfig = res.data;
      if (this.mapConfig) {
        this.olUtils = new OlUtils(this.mapConfig);
        // this.olUtils.addFoshanBoundary();
        this.map = this.olUtils.map;
      }
      this.initBusEvent();
      this.initMapEvent();
    });
  }
  private initBusEvent() {
    this.$Bus.$off("getXY");
    this.$Bus.$on("getXY", (cb) => {
      this.map.on("click", (e) => {
        cb(e.coordinate);
      });
    });
    this.$Bus.$on("addArea", (type?: any) => {
      this.addArea(type);
    });
    this.$Bus.$off("clearInterval")
    this.$Bus.$on("clearInterval", () => {
      clearInterval(this.timer);
    });
    this.$Bus.$off("clearLayer")
    this.$Bus.$on("clearLayer",(id:any)=>{
      this.olUtils.clear(id);
    })
    this.$Bus.$off("FireModel")
    this.$Bus.$on("FireModel", (param?: any) => {
      let params: any = param ? param : this.analysisParam;
      this.modelAnalysisDatas = [];
      szFireModelServe.getSzModelData(params).then((res: any) => {
         let objData: any = {
          dataX: [],
          dataY1: [],
          dataY2: [],
        };

        for (let key in res.states) {
          let time = res.states[key].time.split(" ")[1];
          let time1: any =
            time.slice(0, 4) +
            "-" +
            time.slice(4, 6) +
            "-" +
            time.slice(6, 8) +
            " " +
            time.slice(8, 10) +
            ":" +
            time.slice(10, 12) +
            ":" +
            time.slice(12, 14);
          let area = (res.states[key].area.split(" ")[1])/1000;
          let states = res.states[key].states[1].split(" ")[1];
          objData.dataX.push(time1);
          objData.dataY1.push(area);
          objData.dataY2.push(states);
        }
        this.$Bus.$emit('fireData',objData)
        console.log(res, "火灾图表数据"); //火灾图表数据
        let rasterExtent = res.area;
        let json = res.data;
        console.log(json, "---json");
        let result = res.data;
        if (result) {
          result.forEach((ele) => {
            let img_path = ele.replace("tif", "png");
            let json_path = ele.replace("png", "geojson");
            this.modelAnalysisDatas.push({
              img: img_path,
              extent: [
                rasterExtent[0] * 1,
                rasterExtent[1] * 1,
                rasterExtent[2] * 1,
                rasterExtent[3] * 1,
              ],
              routePath: "http://192.168.20.209:8450/firemodel/" + img_path,
              geojson: json[json_path],
            });
          });
        }
        console.log(this.modelAnalysisDatas, "length");
        let indexs = 0;
        this.timer = setInterval(() => {
          console.log("----------");
          if (indexs < this.modelAnalysisDatas.length) {
            const index = indexs++;
            if (this.modelAnalysisDatas[index].routePath)
              this.addimg(
                this.modelAnalysisDatas[index].routePath,
                this.modelAnalysisDatas[index].extent
              );
          } else {
            indexs = -1;
          }
        }, 2500);
      });
    });
    this.$Bus.$off("clearAll");
    this.$Bus.$on("clearAll", () => {
      this.clearAll();
    });
    this.$Bus.$off("addWaterPoint");
    this.$Bus.$on("addWaterPoint", (data: any) => {
      disasterServer.getFlood(this.sample).then((res: any) => {
        let data = res.data;
        let pointStr: any = [];
        let coords: any = [];
        let qos: any = [];
        let times: any = [];
        let altJSs: any = [];
        let zs: any = [];
        let splits: any = data.split("<geometry>");
        splits.forEach((element) => {
          let points = element.split(">");
          let simp = points[1].split("</Point");
          pointStr.push(simp[0]);
        });
        splits = data.split("<qo>");
        splits.forEach((element) => {
          let qo = element.split("</qo>");
          qos.push(qo[0]);
        });
        splits = data.split("<time>");
        splits.forEach((element) => {
          let time = element.split("</time>");
          times.push(time[0]);
        });
        splits = data.split("<altJS>");
        splits.forEach((element) => {
          let altJS = element.split("</altJS>");
          altJSs.push(altJS[0]);
        });
        splits = data.split("<z>");
        splits.forEach((element) => {
          let z = element.split("</z>");
          zs.push(z[0]);
        });
        for (let i = 1; i < pointStr.length; i++) {
          let coor = pointStr[i].split(" ");
          coords.push({
            longitude: eval(coor[1]),
            latitude: eval(coor[0]),
            symbol: { type: "WaterLog" },
            type: "water-logging",
            qo: qos[i],
            time: times[i],
            altJS: altJSs[i],
            z: zs[i],
          });
        }
        this.olUtils.setCenter([coords[0].longitude, coords[0].latitude], 14);
        this.olUtils.addMarker(coords, "commonLayer");
      });
    });
    this.$Bus.$off("setCenter");
    this.$Bus.$on("setCenter", (data: any, level: any) => {
      this.olUtils.setCenter([data.longitude, data.latitude], level);
    });
    this.$Bus.$off("focus");
    this.$Bus.$on("focus", (data: any, level: any) => {
      this.olUtils.addMarker(data, "vecLayer");
      this.olUtils.setCenter([data[0].longitude, data[0].latitude], level);
    });
    this.$Bus.$off("addEarthQuake");
    this.$Bus.$on("addEarthQuake", (data?: any) => {
      let parms: any = data ? data : this.earthQuakeParms;
      disasterServer.getDizhendata(parms).then((res: any) => {
        let Data = res.data.replace(/\&lt;/g, "<");
        Data = Data.replace(/\&gt;/g, ">");
        let lineL: any = [];
        let LineTotol: any = [];
        let data: any = Data.split("<coordinates>");
        for (let i = 1; i < data.length; i++) {
          let simple = data[i].split("</coordinates>");
          lineL.push(simple[0]);
        }
        lineL.forEach((line) => {
          let point = line.split(",0");
          let lineSimp: any = [];
          point.forEach((point) => {
            let simplePlint = point.split(",");
            if (simplePlint[0] && simplePlint[1]) {
              let linePoint = [eval(simplePlint[0]), eval(simplePlint[1])];
              lineSimp.push(linePoint);
            }
          });
          LineTotol.push(lineSimp);
        });
        let label: any = Data.split("<intensity>");
        let Area: any = Data.split("<area>");
        let attr: any = [];
        for (let i = 1; i < label.length; i++) {
          let simplelable = label[i].split("</intensity>");
          let simpleArea = Area[i].split("</area>");
          attr.push({ label: simplelable[0], Area: simpleArea[0] });
        }
        let objData:any={
          dataX:[],
          dataY:[],
        }
        attr.forEach(element => {
          if(objData.dataX.indexOf(element.label)<0){
            objData.dataX.push(element.label)
          }
            objData.dataY.push(Number(element.Area).toFixed(2))
           

          
        });
        console.log(objData,"8886868")
        this.$Bus.$emit('earthquakeData',objData)
        console.log(attr, "地震图表数据");
        for (let i = 0; i < LineTotol.length; i++) {
          let json: any = {
            id: Math.ceil(i / 2),
            json: {
              type: "Polygon",
              coordinates: [LineTotol[i]],
            },
          };
          this.olUtils.addGeometry(json, "commonLayer", "earthquake");
        }
      });
    });
    this.$Bus.$off("getHuapo");
    this.$Bus.$on("getHuapo", (data?: any) => {
      let params: any = data ? data : this.huapoParam;
      disasterServer.getDizhen(params).then((res: any) => {
        this.huapoModel(res.data);
      });
    });
    this.$Bus.$off("BuildingModel");
    this.$Bus.$on("BuildingModel", () => {
      disasterServer.DamageAnaylse().then((result: any) => {
        this.BuildingModel(result.data);
      });
    });
    this.$Bus.$off("timer");
    this.$Bus.$on("timer", (time: any) => {
      this.olUtils.clear("trafficLayer")
      switch (time) {
        case "five":
          for (let i = 0; i < this.trafficData.length; i++) {
            this.trafficData[i].mins = this.mins[i].fiveMin;
          }
          break;
        case "ten":
          for (let i = 0; i < this.trafficData.length; i++) {
            this.trafficData[i].mins = this.mins[i].tenMin;
          }
          break;
        case "fifteen":
          for (let i = 0; i < this.trafficData.length; i++) {
            this.trafficData[i].mins = this.mins[i].fifteenMin;
          }
          break;
        case "twenty":
          for (let i = 0; i < this.trafficData.length; i++) {
            this.trafficData[i].mins = this.mins[i].twentyMin;
          }
          break;
        case "twentyFive":
          for (let i = 0; i < this.trafficData.length; i++) {
            this.trafficData[i].mins = this.mins[i].twentyFiveMin;
          }
          break;
        case "thirty":
          for (let i = 0; i < this.trafficData.length; i++) {
            this.trafficData[i].mins = this.mins[i].thirtyMin;
          }
          break;
      }

      this.olUtils.addLine(this.trafficData, "commonLayer");
    });
    this.$Bus.$off("simulationTraffic");
    this.$Bus.$on("simulationTraffic", (data?: any) => {
      let param: any = data ? data : this.trafficParam;
      this.olUtils.clear("trafficLayer")
      disasterServer.trafficModel(param).then((res: any) => {
        let data = res.data.split("message(");
        data = data[1].split(")");
        data = data[0].replace(/\\n/g, "");
        for (let i = 1; i < 5; i++) {
          data = data.replace(/\\t/g, "");
        }
        data = data.replace(/\\/g, "");
        data = data.replace('"', "");
        data = data.slice(0, data.length - 1);
        let features = data.split("<gml: featureMember>");
        for (let i = 1; i < features.length; i++) {
          let posLists = features[i].split("<gml:posList>");
          let posList = posLists[1].split("</gml:posList>");
          posList = posList[0].split(" ");
          posList.pop();
          for (let i = 0; i < posList.length; i++) {
            posList[i] = Number(posList[i]);
          }
          let coordinate: any = [];
          for (let index = 0; index < posList.length; index = index + 2) {
            coordinate.push([posList[index + 1], posList[index]]);
          }
          let fiveMins = features[i].split("<5min State>");
          let fiveMin = fiveMins[1].split("</5min State>");
          let tenMins = features[i].split("<10min State>");
          let tenMin = tenMins[1].split("</10min State>");
          let fiveteenMins = features[i].split("<15min State>");
          let fiveteenMin = fiveteenMins[1].split("</15min State>");
          let twentyMins = features[i].split("<20min State>");
          let twentyMin = twentyMins[1].split("</20min State>");
          let twentyFiveMins = features[i].split("<25min State>");
          let twentyFiveMin = twentyFiveMins[1].split("</25min State>");
          let thirtyMins = features[i].split("<30min State>");
          let thirtyMin = thirtyMins[1].split("</30min State>");
          let simpleData: any = {
            posList: coordinate,
            mins: fiveMin[0],
          };
          let mins: any = {
            fiveMin: fiveMin[0],
            tenMin: tenMin[0],
            fifteenMin: fiveteenMin[0],
            twentyMin: twentyMin[0],
            twentyFiveMin: twentyFiveMin[0],
            thirtyMin: thirtyMin[0],
          };
          this.mins.push(mins);
          this.trafficData.push(simpleData);
        }
        console.log(this.trafficData, "data1");
        /* let lastPoint: any = this.trafficData[0].posList[0];
        this.olUtils.setCenter(lastPoint, 11); */
        console.log(this.mins, "mins");
        let timeSlice:any=[
          "fiveMin","tenMin","fifteenMin","twentyMin","twentyFiveMin","thirtyMin"
        ]
        let timeNumber:any=["5","10","15","20","25","30"]
        let roadConditions:any=[]
        timeSlice.forEach(item => {
          let  slowly:any = 0;
          let  free:any = 0;
          let congestion:any = 0;
          this.mins.forEach(ele => {
            switch(ele[item]){
              case "free":
                free=free+1;
                break;
              case "slowly":
                slowly=slowly+1;
                break;
              case "congestion":
                congestion=congestion+1;
                break;
            }
          });
          let simple:any={
            time: item,
            free: free,
            slowly: slowly,
            congestion: congestion
          }
          roadConditions.push(simple)
          });
          roadConditions.forEach((element,index) => {
            element.time = timeNumber[index]
          });
          let objData:any={
            dataX:[],
            dataY1:[],
            dataY2:[],
            dataY3:[]
          }
          roadConditions.forEach(element => {
            if(objData.dataX.indexOf(element.time)<0){
              objData.dataX.push(element.time);
              objData.dataY1.push(element.free);
              objData.dataY2.push(element.slowly);
              objData.dataY3.push(element.congestion)

            }
          });
          this.$Bus.$emit('trafficData',objData)
          console.log(roadConditions,"道路图表数据")
        this.olUtils.addLine(this.trafficData, "trafficLayer");
      });
    });
  }
  private initMapEvent() {
    const self = this;
    this.map.on("click", (e) => {
      //this.Coords = e.coordinate
      if (this.map.hasFeatureAtPixel(e.pixel)) {
        let feature = this.map.getFeaturesAtPixel(e.pixel);
        let ele = feature[0].values_.callbackParams;
        console.log(ele, "点击事件详情");
        this.$Bus.$emit("floodModel", ele);
      }
      //this.$Bus.$emit("sendCoordiname",this.Coords)
      //self.$Bus.$emit("sendCoordiname",this.Coords)
    });
  }
  private addimg(url, extent) {
    let ele: any = {
      id: "img",
      url: url,
      extent: extent,
    };
    this.olUtils.addImageLayer(ele);
  }
  private clearAll() {
    this.olUtils.clear();
    clearInterval(this.timer);
  }

  private onMouseClick() {
    this.olUtils.getXY();
  }
  private huapoModel(data: any) {
    const gmlUtils = new GML();
    const eles = gmlUtils.readFeatures(data);
    console.log(eles, "滑坡图表数据"); //滑坡图表数据
    let polygons: any = [];
    let dataCollection = eles[0].values_.polygonMember;
    dataCollection.forEach((element) => {
      let points: any = [];
      let collection = element.Polygon.outerBoundaryIs.LinearRing.coordinates._content_.split(
        " "
      );
      collection.forEach((element) => {
        let point = element.split(",");
        points.push([eval(point[0]), eval(point[1])]);
        this.lastPoint = points[0];
      });
      let json: any = {
        id: eval(
          element.Polygon.outerBoundaryIs.LinearRing.coordinates.Grade_labels
        ),
        json: {
          type: "Polygon",
          coordinates: [points],
        },
      };
      polygons.push(json);
    });
    console.log(polygons, "polygons");
    polygons.forEach((element) => {
      this.olUtils.addGeometry(element, "commonLayer", "Huapo");
    });
    //this.olUtils.setCenter(this.lastPoint, 12);
  }
  private addArea(type) {
    let boundaryurlsheng: any;
    if (type == "After") {
      boundaryurlsheng = "./json/landslide_polygon.json";
      this.olUtils.addFeaturesLayer(boundaryurlsheng, "After");
    }
    if (type == "Before") {
      boundaryurlsheng = "./json/pipeline.json";
      this.olUtils.addFeaturesLayer(boundaryurlsheng, "Before");
    }

    //this.emapUtils.setCenter({ x: 112.66364364162023, y:22.74715213591868 }, 15);
  }
  private BuildingModel(data: any) {
    const gmlUtils = new GML();
    const eles = gmlUtils.readFeatures(data);
    let polygons: any = [];
    let datas: any = [];
    let detail: any = [];
    let geomBefore: any = [];
    let geomAfter: any = [];
    for (let i = 0; i < eles.length; i++) {
      if (!eles[i].values_.pointProperty) {
        datas.push({ detail, geomBefore, geomAfter });
        detail = [];
        geomBefore = [];
        geomAfter = [];
        detail = eles[i].values_;
      } else {
        let strPoint = eles[i].values_.pointProperty.point._content_.pos.split(
          " "
        );
        let Point: any = [];
        strPoint.forEach((element) => {
          Point.push(eval(element));
        });
        geomBefore.push([Point[1], Point[0]]);
        geomAfter.push([Point[3], Point[2]]);
      }
    }
    for (let i = 1; i < datas.length; i++) {
      datas[i].geomAfter.push(datas[i].geomAfter[0]);
      let json: any = {
        id: 0,
        tag: datas[i].detail,
        json: {
          type: "Polygon",
          coordinates: [datas[i].geomAfter],
        },
      };
      this.lastPoint = datas[1].geomAfter;
      datas[i].geomBefore.push(datas[i].geomBefore[0]);
      let json2: any = {
        id: 4,
        tag: datas[i].detail,
        json: {
          type: "Polygon",
          coordinates: [datas[i].geomBefore],
        },
      };
      this.lastPoint = datas[1].geomAfter;
      this.olUtils.addGeometry(json, "commonLayer", "");
      this.olUtils.addGeometry(json2, "commonLayer", "");
    }
    this.olUtils.setCenter(this.lastPoint[0], 18);
  }
  /* private disaster(){
            gisServer.getXmlData().then((res)=>{
               //console.log(this.x2jsUtils,"x2js");
               //console.log(res.data,"xml");
                if(res.data){
                    let data=res.data;
                    let xmlEle=this.x2jsUtils.xml2js(data);
                    let ModelId:any;
                    xmlEle=xmlEle.disasterRespond.disasterOutputs;
                    xmlEle.earthquake['gml:featureMember'].forEach(element => {
                        ModelId="earthquake";
                        this.ShowExtent(element['gml:polygon']['gml:posList'],ModelId);
                    });
                    xmlEle.landslide['gml:featureMember'].forEach(element => {
                        ModelId="landslide";
                        this.ShowExtent(element['gml:polygon']['gml:posList'],ModelId);
                    });
                    xmlEle.buildingCollapse['gml:featureMember'].forEach(element => {
                        ModelId="buildingCollapse";
                        this.ShowExtent(element['gml:polygon']['gml:posList'],ModelId);
                    });
                    xmlEle.fire.FireHouseCollection.FireHousePolygon.forEach(element => {
                        ModelId="fire";
                        this.ShowExtent(element.houseFlashover['gml:posList'],ModelId);
                        this.ShowExtent(element.houseIgnition['gml:posList'],ModelId);
                        this.ShowExtent(element.houseFullDevelopment['gml:posList'],ModelId);
                    });
                }
            })
        }
        private ShowExtent(datas,ModelId){
            if(datas)
            {
                let NewpostList: any=[];
            NewpostList= datas.split(" ");
            let eles :any=[];
            let i:number=0;
            let y:number;
            NewpostList.forEach(element => {
                if(i%2==0)
                {
                   y=parseFloat(NewpostList[i]);
                }
                if(i%2==1)
                {
                    let  x= parseFloat(NewpostList[i]);
                    let ele=[x,y];
                    eles.push(ele);
                }
                i++;
            });
                let json:any={
                    "id": ModelId,
                    "json":{
                     "type": "Polygon",
                     "coordinates":[eles]
                }
                }
                this.olUtils.addGeometry(json.json,json.id,"commonLayer");
            }
        }

        private FocusPoint(){
            let NewpostList: any=[];
            let eles :any=[];
            gisServer.getXmlPoint().then((res)=>{
            if(res.data){
              let data=res.data;
              let Start:number;
              let End:number;
              Start=data.indexOf("<posList>");
              End=data.indexOf("</posList>");
              NewpostList=data.slice(Start+9,End);
              NewpostList= NewpostList.split(" ");
              let longitude:number=parseFloat(NewpostList[1]);
              let latitude:number=parseFloat(NewpostList[0]);
              this.olUtils.setCenter([longitude,latitude],11);
              let CenPoint:any={
                  longitude,
                  latitude,
                  symbol: {type:"disaster"}
              }
              this.olUtils.addMarker(CenPoint,"commonLayer");
              }
              }
        )} */
}
</script>

<style scoped>
</style>
